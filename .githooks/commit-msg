#!/bin/sh

# 提交信息格式规则
commit_pattern='^(fix|feat|docs|style|refactor|test|chore|perf|ci):\s[a-z0-9].{3,}$'

# 获取提交信息
commit_msg=$(cat "$1")

# 检查提交信息格式
if ! [[ $commit_msg =~ $commit_pattern ]]; then
  echo "错误: 提交信息格式不符合要求" >&2
  echo "格式应为: '类型: 描述'" >&2
  echo "示例: 'fix: 修复登录验证问题'" >&2
  exit 1
fi

exit 0  
